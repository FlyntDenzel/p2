generator client {
  provider = "prisma-client-js"
  output   = "../app/generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id            String   @id @default(cuid())
  name          String
  email         String   @unique
  skillsOffered String[]
  skillsWanted  String[]

  matchesA      Match[]  @relation("UserAMatches")
  matchesB      Match[]  @relation("UserBMatches")

  createdAt     DateTime @default(now())
}

model Match {
  id          String   @id @default(cuid())
  
  userA       User     @relation("UserAMatches", fields: [userAId], references: [id])
  userAId     String

  userB       User     @relation("UserBMatches", fields: [userBId], references: [id])
  userBId     String

  skillFromA  String
  skillFromB  String
  status      MatchStatus @default(PENDING)
  createdAt   DateTime    @default(now())
}

enum MatchStatus {
  PENDING
  ACCEPTED
  REJECTED
}